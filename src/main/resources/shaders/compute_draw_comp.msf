layout(local_size_x = 1, local_size_y = 1) in;

layout(rgba8) uniform image2D framebuffer;
uniform vec2 framebufferSize;
uniform float time;

void main()
{
	ivec2 coord = ivec2(gl_GlobalInvocationID.xy);
	vec2 uv = coord / framebufferSize;
	
	vec2 d = coord - framebufferSize * 0.5;
	d = d * d;
	float d2 = sqrt(d.x + d.y) / 300;
	vec4 color = vec4(mix(mix(vec3(1,0,0), vec3(0), sin(time) * 0.5 + 0.5), vec3(0), pow(d2, 2)), 1);
	
 	imageStore(framebuffer, coord, color);
}